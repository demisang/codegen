(function(){"use strict";var e={8191:function(e,t,l){var s=l(9242),i=l(3396);const n={class:"container container-sm"},a={class:"d-flex flex-wrap py-3 mb-4"},r={class:"nav nav-tabs"},c={class:"nav-item"},o={class:"nav-item"};function d(e,t){const l=(0,i.up)("router-link"),s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("header",a,[(0,i._)("ul",r,[(0,i._)("li",c,[(0,i.Wm)(l,{"exact-active-class":"active",class:"nav-link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Common templates")])),_:1})]),(0,i._)("li",o,[(0,i.Wm)(l,{"exact-active-class":"active",class:"nav-link",to:"/about"},{default:(0,i.w5)((()=>[(0,i.Uk)("About")])),_:1})])])]),(0,i.Wm)(s)])}var u=l(89);const p={},h=(0,u.Z)(p,[["render",d]]);var m=h,g=l(2483),v=l(7139);const f={class:"row"},w={class:"col-3"},b=["onClick"],_={class:""},y={class:"hint"},D={class:"col-9"},k={key:0,method:"post"},C={class:"mb-3"},I=(0,i._)("label",{for:"targetDir",class:"form-label"},"Target directory",-1),T=(0,i._)("div",{id:"targetDirHelp",class:"form-text"},"Select target directory",-1),x={class:"col-3 text-end"},O=["for"],M={class:"col-auto"},H=["onUpdate:modelValue","id","aria-describedby"],L={class:"col-auto"},S=["id"],U={class:"row mt-2"},z={class:"col"},F=(0,i._)("i",{class:"bi bi-binoculars-fill"},null,-1),P={class:"col text-end"},j=(0,i._)("i",{class:"bi bi-eraser"},null,-1),Z=(0,i._)("i",{class:"bi bi-tools"},null,-1),A={class:"row"},Y={class:"col"},q={key:0},K={class:"row"},J={class:"col-4"},N=["onClick"],R=["innerHTML"],W={class:"col-8"},E={key:0,class:"shadow p-3 mb-5 bg-body-tertiary rounded"},$=["innerHTML"];function G(e,t,l,n,a,r){const c=(0,i.up)("SelectDir");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",f,[(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.templates,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"list-group",key:t.id},[(0,i._)("button",{type:"button",onClick:l=>e.selectTemplate(t),class:(0,v.C_)([{active:t.id===e.selectedTemplateId},"list-group-item","list-group-item-action"])},[(0,i._)("h5",_,(0,v.zw)(t.name),1),(0,i._)("div",y,(0,v.zw)(t.description),1)],10,b)])))),128))]),(0,i._)("div",D,[e.selectedTemplateId.length?((0,i.wg)(),(0,i.iD)("form",k,[(0,i._)("div",C,[I,(0,i.Wm)(c,{selected:e.targetDir,onChanged:e.changeTargetDir},null,8,["selected","onChanged"]),T]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.placeholders,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:e.value,class:(0,v.C_)(["row g-3 align-items-center placeholder-item","placeholder"+t])},[(0,i._)("div",x,[(0,i._)("label",{for:e.value,class:"form-label"},(0,v.zw)(e.value),9,O)]),(0,i._)("div",M,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.replace=t,class:"form-control",id:e.value,"aria-describedby":e.value+"Help"},null,8,H),[[s.nr,e.replace]])]),(0,i._)("div",L,[(0,i._)("div",{id:e.value+"Help",class:"form-text"},(0,v.zw)(e.description),9,S)])],2)))),128)),(0,i._)("div",U,[(0,i._)("div",z,[(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.showPreview()),type:"button",class:"btn btn-primary"},[F,(0,i.Uk)(" Preview ")])]),(0,i._)("div",P,[(0,i._)("button",{onClick:t[1]||(t[1]=t=>e.resetPlaceholders()),type:"button",class:"btn btn-secondary"},[j,(0,i.Uk)(" Reset ")]),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[2]||(t[2]=t=>e.generate()),type:"button",class:"btn btn-success"},[Z,(0,i.Uk)(" Generate ")])])])])):(0,i.kq)("",!0)])]),(0,i._)("div",A,[(0,i._)("div",Y,[e.previewList.length||e.helpMessage.length?((0,i.wg)(),(0,i.iD)("hr",q)):(0,i.kq)("",!0)])]),(0,i._)("div",K,[(0,i._)("div",J,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.previewList,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:t.path,onClick:t=>e.showFile(l),class:(0,v.C_)(["preview-file",{active:e.selectedFileIndex===l}])},[t.is_dir?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,v.C_)(["bi",t.is_new?"bi-folder-plus":"bi-folder"])},null,2)):((0,i.wg)(),(0,i.iD)("i",{key:1,class:(0,v.C_)(["bi",t.is_new?"bi-file-plus":"bi-file"])},null,2)),(0,i.Uk)(" root"+(0,v.zw)(e.targetDir.length?"/"+e.targetDir:""),1),(0,i._)("span",{innerHTML:e.colorizedReplace(t.path)},null,8,R)],10,N)))),128))]),(0,i._)("div",W,[e.helpMessage.length?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("pre",null,(0,v.zw)(e.helpMessage),1)])):(0,i.kq)("",!0),(0,i._)("pre",{class:"file-content-preview",innerHTML:e.selectedFileContent},null,8,$)])])],64)}l(8858),l(1318),l(3228);var V=l(1076);const B="http://localhost:4765";function Q(e="",t=(()=>null),l=(()=>null),s=(()=>null),i=(()=>null)){s(),V.Z.get(B+"/templates",{params:{type:e}}).then((e=>{t(e.data,e.status)})).catch((e=>{l(e.data,e.statusCode,e.statusText)})).finally((()=>{i()}))}function X(e,t,l,s=(()=>null),i=(()=>null),n=(()=>null),a=(()=>null)){n(),V.Z.post(B+"/raw-list",{template_id:e,target_dir:t,placeholders:l}).then((e=>{s(e.data,e.status)})).catch((e=>{i(e.data,e.statusCode,e.statusText)})).finally((()=>{a()}))}function ee(e="",t=(()=>null),l=(()=>null),s=(()=>null),i=(()=>null)){s(),V.Z.get(B+"/directories",{params:{selected:e}}).then((e=>{t(e.data,e.status)})).catch((e=>{l(e.data,e.statusCode,e.statusText)})).finally((()=>{i()}))}function te(e,t,l,s=(()=>null),i=(()=>null),n=(()=>null),a=(()=>null)){n();const r={template_id:e,target_dir:t,placeholders:l};V.Z.post(B+"/generate",r).then((e=>{s(e.data,e.status)})).catch((e=>{i(e.data,e.statusCode,e.statusText)})).finally((()=>{a()}))}const le=e=>((0,i.dD)("data-v-7f2aed68"),e=e(),(0,i.Cn)(),e),se={class:"path-items"},ie=["onClick"],ne={key:1},ae=["onClick"],re=le((()=>(0,i._)("span",null," ",-1))),ce={key:1};function oe(e,t,l,n,a,r){return(0,i.wg)(),(0,i.iD)("div",se,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.pathItems,((t,l)=>((0,i.wg)(),(0,i.iD)("span",{key:t.path,class:(0,v.C_)(["dir-item",{active:l!==e.pathItems.length-1}])},[l!==e.pathItems.length-1?((0,i.wg)(),(0,i.iD)("a",{key:0,onClick:(0,s.iM)((l=>e.selectDir(t.path)),["prevent"]),href:"#"},(0,v.zw)(t.name),9,ie)):((0,i.wg)(),(0,i.iD)("span",ne,(0,v.zw)(t.name),1)),(0,i.Uk)(" / ")],2)))),128)),e.currentDirItems.length?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" [sub dirs: "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.currentDirItems,(t=>((0,i.wg)(),(0,i.iD)("span",{key:t.path,class:"dir-item"},[(0,i._)("a",{onClick:(0,s.iM)((l=>e.selectDir(t.path)),["prevent"]),href:"#"},(0,v.zw)(t.name),9,ae),re])))),128)),(0,i.Uk)("] ")],64)):((0,i.wg)(),(0,i.iD)("span",ce,"[no sub dirs]"))])}l(560);var de=(0,i.aZ)({name:"SelectDir",data(){return{currentDirItems:[]}},props:{selected:{type:String,required:!0}},computed:{pathItems(){let e=[{path:"",name:"root"}],t=[];return this.selected.split("/").filter((e=>""!==e)).forEach((l=>{t.push(l),e.push({path:t.join("/"),name:l})})),this.fetchCurrentDirItems(this.selected),e}},emits:{changed:e=>!0},methods:{selectDir(e){this.$emit("changed",e),this.fetchCurrentDirItems(e)},fetchCurrentDirItems(e){ee(e,((e,t)=>{this.currentDirItems=[],e.forEach((e=>{this.currentDirItems.push({path:""!=this.selected?this.selected+"/"+e:e,name:e})}))}))}}});const ue=(0,u.Z)(de,[["render",oe],["__scopeId","data-v-7f2aed68"]]);var pe=ue;const he=e=>e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;");let me=[];var ge=(0,i.aZ)({name:"TemplatesList",components:{SelectDir:pe},data(){return{selectedTemplateId:"",selectedFileIndex:-1,helpMessage:"",placeholders:[],targetDir:"",templates:[],previewList:[]}},computed:{selectedFileContent(){let e="";return this.selectedFileIndex in this.previewList&&this.previewList[this.selectedFileIndex].content.length?(e=he(this.previewList[this.selectedFileIndex].content),e="<i class='line-number'></i>"+e,e=e.replaceAll(/\n/g,"\n<i class='line-number'></i>"),e=this.colorizedReplace(e),e):e}},mounted(){Q("",((e,t)=>{this.templates=e,me=JSON.parse(JSON.stringify(e))}))},methods:{getTemplateByID(e){for(const t of this.templates)if(t.id===e)return t},selectTemplate(e){this.selectedTemplateId=e.id,this.targetDir=e.target_dir,this.placeholders=e.placeholders,this.reset()},reset(){this.selectedFileIndex=-1,this.previewList=[],this.helpMessage=""},resetPlaceholders(){const e=me.find((e=>e.id===this.selectedTemplateId));e&&(this.placeholders=JSON.parse(JSON.stringify(e.placeholders))),this.showPreview()},changeTargetDir(e){this.targetDir=e,this.previewList.length&&this.showPreview()},showPreview(){this.selectedTemplateId.length&&(this.helpMessage="",X(this.selectedTemplateId,this.targetDir,this.placeholders,(e=>{this.previewList=e})))},showFile(e){this.selectedFileIndex=e},generate(){te(this.selectedTemplateId,this.targetDir,this.placeholders,(e=>{this.helpMessage=e}))},colorizedReplace(e){for(const t in this.placeholders){const l="color"+t;let s=he(this.placeholders[t].replace);s=`<span class='${l}'>${s}</span>`,e=e.replaceAll(this.placeholders[t].value,s)}return e}}});const ve=(0,u.Z)(ge,[["render",G]]);var fe=ve;const we={class:"about"},be=(0,i._)("h3",null,"Code Generator",-1),_e=(0,i._)("a",{target:"_blank",href:"https://github.com/demisang/codegen"},"https://github.com/demisang/codegen",-1);function ye(e,t){return(0,i.wg)(),(0,i.iD)("div",we,[be,(0,i.Uk)(" Project: "),_e])}const De={},ke=(0,u.Z)(De,[["render",ye]]);var Ce=ke;const Ie=[{path:"/",name:"templates",component:fe},{path:"/about",name:"about",component:Ce}],Te=(0,g.p7)({history:(0,g.r5)("/"),routes:Ie});var xe=Te;l(2166);(0,s.ri)(m).use(xe).mount("#app")}},t={};function l(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,s,i,n){if(!s){var a=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],n=e[d][2];for(var r=!0,c=0;c<s.length;c++)(!1&n||a>=n)&&Object.keys(l.O).every((function(e){return l.O[e](s[c])}))?s.splice(c--,1):(r=!1,n<a&&(a=n));if(r){e.splice(d--,1);var o=i();void 0!==o&&(t=o)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,i,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,a=s[0],r=s[1],c=s[2],o=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)l.o(r,i)&&(l.m[i]=r[i]);if(c)var d=c(l)}for(t&&t(s);o<a.length;o++)n=a[o],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},s=self["webpackChunkvue"]=self["webpackChunkvue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=l.O(void 0,[998],(function(){return l(8191)}));s=l.O(s)})();
//# sourceMappingURL=app.70a6b8f7.js.map